<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>An overview of the hardcopy support.</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
</head><body><table width="100%">
<tr>
  <td>
    <img src="Coin_logo.png" alt="Coin Logo">
  </td>
  <td align="right">
    <a href="http://www.sim.no">http://www.sim.no</a><br>
    <a href="http://www.coin3d.org/">http://www.coin3d.org</a>
  </td>
</tr>
</table>
<hr noshade>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1><a class="anchor" name="hardcopy_overview">An overview of the hardcopy support.</a></h1>The main API for HardCopy support in Coin is the abstract class <a class="el" href="classSoVectorizeAction.html">SoVectorizeAction</a>. <a class="el" href="classSoVectorizeAction.html">SoVectorizeAction</a> will extract geometry from an Inventor scene graph, and project the geometry onto a specified page. Since postscript and other vector based file formats do not support z-buffer or depth clipping, all geometry is rendered using a simple painter's algorithm (geometry is sorted based on distance to camera).<p>
<a class="el" href="classSoVectorizePSAction.html">SoVectorizePSAction</a> inherits <a class="el" href="classSoVectorizeAction.html">SoVectorizeAction</a>, and will output a Postscript file.<p>
Texture-mapped polygons are not supported, since this is not supported by the vector file formats, at least it's not supported in Postscript. Gouraud shading is not supported in the Postscript language (at least not for V2.0), but an approximation is implemeting using an algorithm that divides the triangle into several small (flat-shaded) triangles. The gouraud shading quality (the number of sub-triangles) is controlled by an epsilon value. The gouraud shading function is written by Frederic Delhoume (delhoume (at) ilog.fr), and is free (public domain) software.<p>
Typical use of <a class="el" href="classSoVectorizePSAction.html">SoVectorizePSAction</a> is shown in the following piece of code:<p>
<pre><div class="fragment">  <a class="code" href="classSoVectorizePSAction.html">SoVectorizePSAction</a> * ps = <span class="keyword">new</span> <a class="code" href="classSoVectorizePSAction.html">SoVectorizePSAction</a>;
  <a class="code" href="classSoVectorOutput.html">SoVectorOutput</a> * out = ps-&gt;<a class="code" href="classSoVectorizePSAction.html#a6">getOutput</a>();

  <span class="keywordflow">if</span> (!out-&gt;<a class="code" href="classSoVectorOutput.html#a2">openFile</a>(<span class="stringliteral">"output.ps"</span>)) {
    <span class="keywordflow">return</span> -1; <span class="comment">// unable to open output file</span>
  }

  <span class="comment">// to enable gouraud shading. 0.1 is a nice epsilon value</span>
  <span class="comment">// ps-&gt;setGouraudThreshold(0.1f);</span>

  <span class="comment">// clear to white background. Not really necessary if you</span>
  <span class="comment">// want a white background</span>
  ps-&gt;<a class="code" href="classSoVectorizeAction.html#a15">setBackgroundColor</a>(TRUE, <a class="code" href="classSbColor.html">SbColor</a>(1.0f, 1.0f, 1.0f));

  <span class="comment">// select LANDSCAPE or PORTRAIT orientation</span>
  ps-&gt;<a class="code" href="classSoVectorizeAction.html#a13">setOrientation</a>(SoVectorizeAction::LANDSCAPE);

  <span class="comment">// start creating a new page (A4 page, with 10mm border).</span>
  ps-&gt;<a class="code" href="classSoVectorizeAction.html#a8">beginPage</a>(<a class="code" href="classSbVec2f.html">SbVec2f</a>(10.0f, 10.0f), <a class="code" href="classSbVec2f.html">SbVec2f</a>(190.0f, 277.0f));

  <span class="comment">// There are also enums for A0-A10. Example:</span>
  <span class="comment">// ps-&gt;beginStandardPage(SoVectorizeAction::A4, 10.0f);</span>

  <span class="comment">// calibrate so that text, lines, points and images will have the</span>
  <span class="comment">// same size in the postscript file as on the monitor.</span>
  ps-&gt;<a class="code" href="classSoVectorizeAction.html#a10">calibrate</a>(viewer-&gt;getViewportRegion());

  <span class="comment">// apply action on the viewer scenegraph. Remember to use</span>
  <span class="comment">// SoSceneManager's scene graph so that the camera is included.</span>
  ps-&gt;<a class="code" href="classSoVectorizeAction.html#a4">apply</a>(viewer-&gt;getSceneManager()-&gt;getSceneGraph());

  <span class="comment">// this will create the postscript file</span>
  ps-&gt;<a class="code" href="classSoVectorizeAction.html#a9">endPage</a>();

  <span class="comment">// close file</span>
  out-&gt;<a class="code" href="classSoVectorOutput.html#a3">closeFile</a>();

  <span class="keyword">delete</span> ps;
</div></pre><p>
It is also possible to have several viewports and/or layers on a page. This is useful if your application has several layers of geometry, for instance some annotations in 2D on top of a 3D scene graph. To create several layers, the beginViewport() and endViewport() functions can be used.<p>
<dl compact><dt><b>Since:</b></dt><dd>Coin 2.1 <p>
TGS provides HardCopy support as a separate extension for TGS Inventor. </dd></dl>
<hr noshade>
<p align="right">Copyright &copy 1998-2004 by <a href="http://www.sim.no">Systems in Motion AS</a>. All rights reserved.</p>
<address style="align: right;"><small>
Generated on Mon Oct 18 01:26:56 2004 for Coin by <a href="http://www.doxygen.org/index.html">Doxygen.</a> 1.3.7</small></address>
</body>
</html>
