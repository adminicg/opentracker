#! /bin/sh

###
# Author:
#     Tamer Fahmy <tamer@ims.tuwien.ac.at>
#
# Description:
#     shell script to retrieve config options for OpenTracker
#

program="$0"
me=`echo "$0" | sed 's,^.*[/\\],,g'`
wd=`echo "$0" | sed 's,/[^/]*$,,'`
prefix=`cd "$wd/.."; pwd`

usage="\
Usage: $me [OPTIONS]
Options:
  --version
  --have-feature <featurename> 
  --cxxflags
  --ldflags
  --libs"

if test $# -eq 0 ; then
	echo "${usage}" 1>&2
	exit 1
fi

# never changing facts
OTLIBS=-lOpenTracker
OTINCS=-I$prefix/include/OpenTracker
OTLDFLAGS=-L$prefix/lib

# features indicators determined during configure
have_speech=@HAVE_FEATURE_SAPISPEECH@
have_artoolkit=@HAVE_FEATURE_ARTOOLKIT@
have_joystick=@HAVE_FEATURE_JOYSTICK@

while test $# -gt 0
do
  case $1 in    
	--version)  echo @OT_VERSION@          ;;
	--cxxflags)	echo $OTINCS @CXXFLAGS@    ;;
	--ldflags)	echo $OTLDFLAGS @LDFLAGS@  ;;
	--libs) 	echo $OTLIBS @LIBS@        ;;
	--have-feature)
		exitcode=1
		feature="`echo $2 | tr '-' '_'`"
		eval "test x\${have_$feature} = x1 && exitcode=0"
		exit $exitcode
	;;
	*) echo "${usage}" 1>&2; exit 1 ;;
	esac
	shift
done

