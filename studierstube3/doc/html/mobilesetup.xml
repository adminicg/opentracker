<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XML Spy v3.5 NT (http://www.xmlspy.com) by Luftgeist (ims) -->
<!DOCTYPE OpenTracker SYSTEM "opentracker.dtd">
<?xml-stylesheet type="text/xsl" href="C:\Projects\opentracker\data\ot2dot.xsl"?>
<OpenTracker>
	<configuration>
		<ARToolKitConfig camera-parameter="data/camera_para.dat"/>
		<!-- <ConsoleConfig headerline="Mobile User" interval="20"/> -->
		<InterSenseConfig>
			<ISTracker id="0"/>
			<ISTracker id="1"/>
		</InterSenseConfig>
	</configuration>
	<ConsoleSink comment="InterTrax">
	<EventDynamicTransform baseevent="true" DEF="orientation">
   		<TransformBase>
				<EventInvertTransform>
					<EventVirtualOrientationTransform rotationtype="matrix" rotation="0 0 1 1 0 0 0 1 0">
						<EventOrientationTransform rotation="0 1 0 0 0 1 1 0 0" rotationtype="matrix">
    						<InterSenseSource id="0"/>				
						</EventOrientationTransform>
					</EventVirtualOrientationTransform>
				</EventInvertTransform>
		</TransformBase>
		<EventVirtualOrientationTransform rotationtype="matrix" rotation="0 0 1 1 0 0 0 1 0">
			<EventOrientationTransform rotation="0 1 0 0 0 1 1 0 0" rotationtype="matrix">
    			<InterSenseSource id="1"/>				
			</EventOrientationTransform>
		</EventVirtualOrientationTransform>
 	</EventDynamicTransform>
	</ConsoleSink>
 	<ConsoleSink comment="Pad">
		<StbSink station="0">
			<EventDynamicTransform>
				<TransformBase>
					<Ref USE="orientation"/>
				</TransformBase>
				<EventVirtualTransform rotationtype="axisangle" rotation=" 0 0 1 -1.57">
					<EventVirtualTransform translation="0 0 0.0375">
						<EventTransform DEF="PadReference" scale="0.001 0.001 0.00174" translation="0 0 -0.019">
							<ARToolKitSource tag-file="data/ptag.tag" vertex="-40 -40 40 -40 40 40 -40 40"/>
						</EventTransform>
					</EventVirtualTransform>
				</EventVirtualTransform>
			</EventDynamicTransform>
		</StbSink>
	</ConsoleSink>
 	<ConsoleSink comment="Pen">
		<StbSink station="1">
			<EventDynamicTransform>
				<TransformBase>
					<Ref USE="orientation"/>
				</TransformBase>
				<Merge>
					<MergeDefault>
						<EventTransform translation="0 0 -0.12" DEF="PenOptical">
							<EventTransform scale="0.001 0.001 0.00174" translation="0 0 -0.019">
								<Merge>
									<MergeDefault>
										<EventVirtualTransform translation=" 0 -132 30">
											<ARToolKitSource tag-file="data/pen1.tag" vertex="-25 -25 25 -25 25 25 -25 25"/>
										</EventVirtualTransform>
										<EventVirtualTransform translation="132 0 50" rotation="-.7071067810 .7071067810 0 0" rotationtype="quaternion">
											<ARToolKitSource tag-file="data/pen2.tag" vertex="-25 -25 25 -25 25 25 -25 25"/>
										</EventVirtualTransform>
										<EventVirtualTransform translation="132 0 40" rotation="0.5 -0.5 0.5 0.5" rotationtype="quaternion">
											<ARToolKitSource tag-file="data/pen3.tag" vertex="-25 -25 25 -25 25 25 -25 25"/>
										</EventVirtualTransform>
										<EventVirtualTransform translation="132 0 40 " rotation="-0.5 0.5 0.5 0.5" rotationtype="quaternion">
											<ARToolKitSource tag-file="data/pen4.tag" vertex="-25 -25 25 -25 25 25 -25 25"/>
										</EventVirtualTransform>
										<EventVirtualTransform translation="0 0 157 " rotation="-0.5 0.5 -0.5 0.5" rotationtype="quaternion">
											<ARToolKitSource tag-file="data/pen5.tag" vertex="-25 -25 25 -25 25 25 -25 25"/>
										</EventVirtualTransform>
									</MergeDefault>
								</Merge>
							</EventTransform>
						</EventTransform>
					</MergeDefault>
					<MergePosition>
						<Selection>
							<Select>
								<EventDynamicTransform DEF="PenWacom" baseevent="false">
									<EventTransform scale="1 1 0" translation="-0.1 -0.02 0" rotation="0 0 1 1.56" rotationtype="axisangle">
										<WacomGraphireSource device="1"/>
									</EventTransform>
									<TransformBase>
										<Ref USE="PadReference"/>
									</TransformBase>
								</EventDynamicTransform>
							</Select>
							<Ref USE="PenOptical"/>
						</Selection>
					</MergePosition>
					<MergeButton>
						<Ref USE="PenWacom"/>
						<ConsoleSource number="0"/>
					</MergeButton>
				</Merge>
			</EventDynamicTransform>
		</StbSink>
	</ConsoleSink>
	<ConsoleSink comment="Viewpoint">
		<StbSink station="2">
			<EventDynamicTransform>
				<TransformBase>
					<Ref USE="orientation"/>
				</TransformBase>
				<EventTransform translation="0 0 0">
					<TestSource frequency="25"/>
				</EventTransform>
			</EventDynamicTransform>
		</StbSink>
	</ConsoleSink>
</OpenTracker>