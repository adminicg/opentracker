<html><!-- #BeginTemplate "/Templates/master.dwt" -->
<head>
<!-- #BeginEditable "doctitle" --> 
<title>Calibration of the virtual table</title>
<!-- #EndEditable -->
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="/media/styles/studierstube.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<table border="0" cellspacing="0" cellpadding="0" width="100%">
    <tr> 
        <td background="/media/images/studierstube_header_background.gif"> 
            <table border="0" cellpadding="0" cellspacing="0">
                <tr> 
                    <td><a href="/index.html"><img src="/media/images/studierstube_header_logo.gif" width="100" height="100" vspace="15" hspace="15" border="0"></a></td>
                    <td><h1>Studierstube Augmented Reality Project</h1></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr> 
        <td background="/media/images/studierstube_dots_horiz.gif" style="background-repeat:repeat-x"><img src="/media/images/spacer.gif" width="100%" height="1"></td>
    </tr>
    <tr> 
        <td align="right" bgcolor="#F6F6F6"> 
            <table border="0" cellpadding="0" cellspacing="0">
                <tr> 
                    <td background="/media/images/studierstube_dots_vert.gif"><img src="/media/images/spacer.gif" width="1" height="20"></td>
                    <td>&nbsp;</td>
                    <td>&nbsp;<a href="/index.html" class="navMain">Home</a>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td background="/media/images/studierstube_dots_vert.gif"><img src="/media/images/spacer.gif" width="1" height="20"></td>
                    <td>&nbsp;</td>
                    <td>&nbsp;<a href="/research_master.php" class="navMain">Research</a>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td background="/media/images/studierstube_dots_vert.gif"><img src="/media/images/spacer.gif" width="1" height="20"></td>
                    <td>&nbsp;</td>
                    <td>&nbsp;<a href="/developer.html" class="navMain">Development</a>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td background="/media/images/studierstube_dots_vert.gif"><img src="/media/images/spacer.gif" width="1" height="20"></td>
                    <td>&nbsp;</td>
                    <td>&nbsp;<a href="/projects.html" class="navMain">Projects</a>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td background="/media/images/studierstube_dots_vert.gif"><img src="/media/images/spacer.gif" width="1" height="20"></td>
                    <td>&nbsp;</td>
                    <td>&nbsp;<a href="/search/index.php3" class="navMain">Search</a>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr> 
        <td colspan="2" background="/media/images/studierstube_dots_horiz.gif" style="background-repeat:repeat-x"><img src="/media/images/spacer.gif" width="100%" height="1"></td>
    </tr>
</table>
<table border="0" cellspacing="0" cellpadding="15">
    <tr> 
        <td><img src="/media/images/spacer.gif" width="1" height="1"></td>
    </tr>
    <tr> 
        <td><!-- #BeginEditable "content" -->



<h1>Notes on the calibration of the virtual table</h1>

The Virtual Table (VT) has a solid metal frame, which interfers really 
badly with magnetic tracking systems such as the Ascension Flock of Birds
we are currently using. To overcome this problems, a systematic calibration
is necessary. The method we used is based on a set of mesurements (samples)
obtained with the very same tracker used for head tracking in the application.
<p>
We contructed a simple wooden device allowing to locate any point above the 
table. The device looks like a bar that fits over the short
side of the table and can be moved to the left and right. A pole sticks up from
it in upright direction, and the pole can be put into one of a series of 
holes in the bar for the third dimension. With this contruction, a series
of samples (with 4" spacing) was taken using one tracker sensor (with a button
for triggering) as a measuring probe. We systematically went through obtaining
samples of the volume above the table using the wooden construction as a
reference.
<p>
In that way we obtained a data set that looks like this when visualized as a
point cloud:
<p>
<img src="tableviz.jpg">
<p>
<a href="tableviz.iv">Download</a> an Inventor .iv file of the data set.
<p>
The bottom part of the picture corresponds to the surface of the table.
With no distortion, the picture would show a regular block of point.
It is fairly obvious how the magnetic field is warped by the massive metal 
frame of the table. This kind of distortion virtually renders a magnetic
tracker useless near the table without proper calibration (or rather, 
un-distortion). 
<p>
We therefore implemented a filter that takes tracker 
measurements and converts them from the reported position to the actual
position using the set of sampled data. The sample data is a trivariate
function given by discrete samples. It can be inverted using a scattered
data interpolation method - we used a simple kind of weighted avarage with
hypercone shaped kernel, i.e. a sphere where the influence of the sample
linearly decreaes as the distance to the measurement increases.
Using this procedure, the inverted function is resampled into a regular grid
to be used as a look-up table for quick runtime queries. The regular look-up
table ise used with trilinear interpolation.

            <!-- #EndEditable --></td>
    </tr>
    <tr> 
        <td><img src="/media/images/spacer.gif" width="1" height="1"></td>
    </tr>
</table>
<table border="0" cellspacing="0" cellpadding="0" width="100%">
    <tr> 
        <td colspan="3" background="/media/images/studierstube_dots_horiz.gif" style="background-repeat:repeat-x"><img src="/media/images/spacer.gif" width="100%" height="1"></td>
    </tr>
    <tr> 
        <td bgcolor="#F6F6F6">&nbsp; <a href="mailto:reitmayr@studierstube.org" class="navMain">Webmaster</a></td>
        <td bgcolor="#F6F6F6"><img src="/media/images/spacer.gif" width="1" height="20"></td>
        <td bgcolor="#F6F6F6" align="right"><a href="http://www.studierstube.org/" class="navMainCopyright">www.studierstube.org</a> 
            &nbsp;</td>
    </tr>
    <tr> 
        <td colspan="3" background="/media/images/studierstube_dots_horiz.gif" style="background-repeat:repeat-x"><img src="/media/images/spacer.gif" width="100%" height="1"></td>
    </tr>
</table>
</body>
<!-- #EndTemplate --></html>
