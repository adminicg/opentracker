<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE april SYSTEM "../../tools/april/april.dtd">
<april xmlns="http://www.studierstube.org/april" xmlns:ot="http://www.studierstube.org/opentracker" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.studierstube.org/april ../../tools/april/april.xsd">
    <setup src="test.aps"/>
    <presentation id="april-test" name="APRIL Test">
        <story>
            <scene name="empty" initial="true">
                <annotation>The model is dimly lit, nothing is happening.</annotation>
            </scene>
            <scene name="play">
            </scene>
            <transition event="enter" source="empty" target="play" guard=""/>
            <transition event="leave" source="play" target="empty" guard=""/>
        </story>
        <cast>
            <stage type="application/x-inventor" id="stage" position="0 0.031 0">
                <inline>
                      Material {
                        diffuseColor 0.61 0.61 0.61
                      }
					  Cube { width 0.231 height 0.062 depth 0.240 }
					  Transform { translation 0 -0.031 0 }
					  Cube { width 0.4 height 0.002 depth 0.4 }
                </inline>
            </stage>
            <actor id="box" src="APRIL/components/model.apc">
                <input id="src" value="../APRIL/content/models/box.iv"/>
                <input id="position" value="0 0.06 0"/>
                <input id="scale" value="0.06 0.06 0.06"/>
            </actor>
            <actor id="img" src="APRIL/components/canvas.apc">
                <input id="src" value="../APRIL/content/images/heidentor/detail.jpg"/>
                <input id="size" value="0.12 0.12"/>
                <input id="position" value="0.2 0.25 0.50"/>
                <input id="orientation" value="0.4775 0.6211 0.6215 2.2461"/>
            </actor>
            <actor id="spot" src="APRIL/components/hotspot.apc">
                <input id="size" value="0.04 0.04 0.07"/>
                <input id="position" value="0.08 0.18 0.005"/>
            </actor>
        </cast>
        <behaviors>
            <behavior scene="empty">
                <entry>
                    <set actor="box" input="position" to="0 0.1 0" time="PT1.0S"/>
                </entry>
                <do>
                    <animate actor="box" input="position" to="0 0.2 0" duration="PT4.0S"/>
                </do>
            </behavior>
            <behavior scene="play">
                <entry>
                    <set actor="box" input="position" to="0 0.3 0"/>
                </entry>
            </behavior>
        </behaviors>
        <interactions>
            <event id="enter">
                <buttonaction virtual="true" caption="enter" auto="false"/>
            </event>
            <event id="leave">
                <buttonaction virtual="true" caption="leave" auto="false"/>
            </event>
            <event id="point_roof">
                <rayaction target="spot"/>
            </event>
            <event id="use_clip">
                <evaluator source="box" output="position" comparator="isInside" value="-0.5 -0.5 -0.5 0.5 0.5 0.5"/>
            </event>
        </interactions>
    </presentation>
</april>
