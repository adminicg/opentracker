<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE OpenTracker SYSTEM "../../../workspace/opentracker.dtd">
<!--
  A dedicated tracking server for GPS input. Allows us to start the GPS
  tracking without the actual application and also log transparently GPS data,
  etc. Moreover, we can also play with the GPS settings without restarting the
  application.

  $Id: replay.xml 3826 2004-10-05 15:12:02Z reitmayr $
  -->
<OpenTracker>
  <configuration>
    <NetworkSinkConfig name="GPSServer"/>
    <ConsoleConfig headerline="GPSServer" interval="1" display="on"/>
    <TimeConfig sleep="100"/>
    <FileConfig append="true"/>
  </configuration>
  <!-- Gets GPS data from pre-recorded files -->
  <ConsoleSink comment="gps">
    <EventTransform translation="16.5 0 0" DEF="gps">
    	<FileSource file="gps.log" station="0"  localtime="true"/>
    </EventTransform>
  </ConsoleSink>
  <!-- Transmits GPS data on the network -->
  <NetworkSink name="gps" number="1" multicast-address="224.100.200.101" port="2000">
    <Ref USE="gps"/>
  </NetworkSink>
   <!-- special logs triggered over the network -->
  <FileSink file="gps-1.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <NetworkSource number="1" multicast-address="224.100.200.102" port="2001" DEF="point1"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-1.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <Ref USE="point1"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-2.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
      <ConsoleSink comment="network2">
        <NetworkSource number="2" multicast-address="224.100.200.102" port="2001" DEF="point2"/>
        </ConsoleSink>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-2.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <Ref USE="point2"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-3.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <NetworkSource number="3" multicast-address="224.100.200.102" port="2001" DEF="point3"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-3.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <Ref USE="point3"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-4.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <NetworkSource number="4" multicast-address="224.100.200.102" port="2001" DEF="point4"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-4.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <Ref USE="point4"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-5.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <NetworkSource number="5" multicast-address="224.100.200.102" port="2001" DEF="point5"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-5.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <Ref USE="point5"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-6.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <NetworkSource number="6" multicast-address="224.100.200.102" port="2001" DEF="point6"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-6.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <Ref USE="point6"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-7.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <NetworkSource number="7" multicast-address="224.100.200.102" port="2001" DEF="point7"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-7.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <Ref USE="point7"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-8.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <NetworkSource number="8" multicast-address="224.100.200.102" port="2001" DEF="point8"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-8.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <Ref USE="point8"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-9.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <NetworkSource number="9" multicast-address="224.100.200.102" port="2001" DEF="point9"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
  <FileSink file="gps-9.log" station="0">
    <TimeGate mode="pass" timeframe="30000">
      <Gate>
        <Ref USE="point9"/>
      </Gate>
      <Ref USE="gps"/>
    </TimeGate>
  </FileSink>
</OpenTracker>
