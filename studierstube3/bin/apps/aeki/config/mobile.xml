<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XML Spy v4.0.1 U (http://www.xmlspy.com) by Luftgeist (Vienna University of Technology) -->
<!--This OpenTracker file describes the configuration for the mobile setup using a pen and tablet interface.
It supports the following hardware :
1) Intersense InterTrax2 to track head orientation
2) Firewire Webcam via ARToolkit to track markers on PIP and pen.
3) Wacom Graphire tablet for 2D pen input and buttons
4) Parallel port button-->
<!DOCTYPE OpenTracker SYSTEM "../../../mobile/opentracker.dtd">
<OpenTracker>
	<configuration>
		<ARToolKitConfig camera-parameter="data/pyrofirewire.dat" videomode="0 320 240 vertical" framerate="15" treshhold="100"/>
		<ConsoleConfig headerline="Mobile User" interval="20" display="off"/>
		<InterSenseConfig>
			<ISTracker id="0"/>
		</InterSenseConfig>
		<StbKeyboardConfig/>
	</configuration>
	<ConsoleSink comment="InterTrax">
		<EventVirtualOrientationTransform rotationtype="matrix" rotation="0 0 1 -1 0 0 0 -1 0" DEF="orientation">
			<EventOrientationTransform rotation="0 -1 0 0 0 -1 1 0 0" rotationtype="matrix">
				<InterSenseSource id="0"/>
			</EventOrientationTransform>
		</EventVirtualOrientationTransform>
	</ConsoleSink>
	<ConsoleSink comment="Pad">
		<StbSink station="0">
			<EventDynamicTransform baseevent="false">
				<TransformBase>
					<Ref USE="orientation"/>
				</TransformBase>
				<Selection timeout="10000">
					<Select>
						<EventVirtualTransform translation="-0.044 -0.165 0" DEF="PadReference">
							<EventTransform rotation="0 0 1 3.1415926" rotationtype="axisangle" scale="0.001 0.001 0.001">
								<Filter weight="0.333333 0.333333 0.333333">
									<EventQueue length="3">
										<EventVirtualTransform rotation="+0.7071068 +0.7071068 0 0">
											<ConfidenceFilter treshhold="0.8">
												<ConfidenceSelect timeout="200">
													<!-- the small additional greek lettered pad tags -->
													<EventVirtualTransform rotation="0 0 0.70710678 0.70710678" translation="-120.6228860 86.26318450 -12.97660861">
														<ARToolKitSource tag-file="data/lambda.tag" center="0 0" size="40"/>
													</EventVirtualTransform>
													<EventVirtualTransform rotation="0 0 1 0" translation="-242.4604450 -43.88639500 -52.62943030">
														<ARToolKitSource tag-file="data/pi.tag" center="0 0" size="40"/>
													</EventVirtualTransform>
													<EventVirtualTransform rotation="0 0 0.70710678 0.70710678" translation="29.14854159  91.87370265  -17.21264916">
														<ARToolKitSource tag-file="data/kappa.tag" center="0 0" size="40"/>
													</EventVirtualTransform>
												</ConfidenceSelect>
											</ConfidenceFilter>
										</EventVirtualTransform>
									</EventQueue>
								</Filter>
							</EventTransform>
						</EventVirtualTransform>
					</Select>
					<EventTransform translation="0 0 -10">
						<TestSource/>
					</EventTransform>
				</Selection>
			</EventDynamicTransform>
		</StbSink>
	</ConsoleSink>
	<ConsoleSink comment="Pen">
		<StbSink station="1">
			<EventDynamicTransform baseevent="false">
				<TransformBase>
					<Ref USE="orientation"/>
				</TransformBase>
				<Merge>
					<MergeDefault>
						<EventTransform DEF="PenOptical">
							<EventTransform scale="0.001 0.001 0.001" translation="0 0 0" rotation="0 0 1 3.141592" rotationtype="axisangle">
								<EventTransform>
									<EventVirtualTransform rotation="0.5 0.5 0.5 0.5" translation=" 0 0 -160">
										<Merge>
											<MergeDefault>
												<EventVirtualTransform rotation=" .5029917380  .5014279870  -.5012367275  .4942985235" translation="-.2220118280 -32.48160126 -30.22296535">
													<ConfidenceFilter treshhold="0.8">
														<ARToolKitSource tag-file="data/pen1.tag" center="0 0" size="50"/>
													</ConfidenceFilter>
												</EventVirtualTransform>
												<EventVirtualTransform rotation=".1448792950e-1 -.7084267620 .9970575100e-2 .7055651710" translation="-20.74213547 -.1527992500 -42.24638883">
													<ConfidenceFilter treshhold="0.8">
														<ARToolKitSource tag-file="data/pen2.tag" center="0 0" size="50"/>
													</ConfidenceFilter>
												</EventVirtualTransform>
												<EventVirtualTransform rotation="  -.5174423930 -.5068315460 .4897498800 .4853042437" translation="-26.27967831 -1.187149700 -34.71511463">
													<ConfidenceFilter treshhold="0.8">
														<ARToolKitSource tag-file="data/pen3.tag" center="0 0" size="50"/>
													</ConfidenceFilter>
												</EventVirtualTransform>
												<EventVirtualTransform rotation=" .5002492600  -.5056980505  -.4930002224 .5009699995" translation="-28.95919523 .7681099400 -35.91970237">
													<ConfidenceFilter treshhold="0.8">
														<ARToolKitSource tag-file="data/pen4.tag" center="0 0" size="50"/>
													</ConfidenceFilter>
												</EventVirtualTransform>
												<ConfidenceFilter treshhold="0.8">
													<ARToolKitSource tag-file="data/pen5.tag" center="0 0" size="50"/>
												</ConfidenceFilter>
											</MergeDefault>
										</Merge>
									</EventVirtualTransform>
								</EventTransform>
							</EventTransform>
						</EventTransform>
					</MergeDefault>
					<MergePosition>
						<Selection timeout="2000">
							<Select>
								<Selection timeout="500">
									<Select>
										<EventDynamicTransform DEF="PenWacom" baseevent="true">
											<EventTransform scale="1 1 0" translation="0.064 0.047 -0.007" rotation="0 0 1 0">
												<WacomGraphireSource device="1"/>
											</EventTransform>
											<TransformBase>
												<Ref USE="PadReference"/>
											</TransformBase>
										</EventDynamicTransform>
									</Select>
									<Ref USE="PenOptical"/>
								</Selection>
							</Select>
							<TestSource position="0 0 -10"/>
						</Selection>
					</MergePosition>
					<MergeButton>
						<Ref USE="PenWacom"/>
						<StbKeyboardSource number="0"/>
						<ParButtonSource dev="0x378"/>
					</MergeButton>
				</Merge>
			</EventDynamicTransform>
		</StbSink>
	</ConsoleSink>
	<!--<ConsoleSink comment="Viewpoint">-->
	<StbSink station="2">
		<EventDynamicTransform>
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<!-- old camera on the helmet offset             
           <EventTransform translation=" -0.004 -0.148  0" rotation="-.9096828073e-1 -.4448448893e-2 -.4868302496e-1 .9946531794">
                <TestSource frequency="10"/>
            </EventTransform>-->
			<!-- <ConsoleSink comment="offset">
                <StbKeyboardSource number="1"/>
            </ConsoleSink>-->
			<!-- current camera in front of the eye offset -->
			<TestSource position="0 0 -0.072" frequency="10"/>
		</EventDynamicTransform>
	</StbSink>
	<!--</ConsoleSink>-->
	<!-- Aeki Cupboard pieces -->
	<StbSink station="3" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="../apps/aeki/patterns/aeki.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="4" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="../apps/aeki/patterns/tu.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="5" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="../apps/aeki/patterns/alien.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="6" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="../apps/aeki/patterns/aircraft.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="7" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventVirtualTransform rotation="0 0 1 1.571" rotationtype="axisangle">
					<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
						<ARToolKitSource tag-file="../apps/aeki/patterns/man.patt" size="100 100" center="0 0"/>
					</EventTransform>
				</EventVirtualTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="8" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventVirtualTransform rotation="0 0 1 1.571" rotationtype="axisangle">
					<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
						<ARToolKitSource tag-file="../apps/aeki/patterns/spider.patt" size="100 100" center="0 0"/>
					</EventTransform>
				</EventVirtualTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="9" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="../apps/aeki/patterns/heart.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<!-- model tracker -->
	<StbSink station="10" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="../apps/aeki/patterns/moneybag.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<!-- nothing -->
	<StbSink station="11" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="../apps/aeki/patterns/shears.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
</OpenTracker>
