<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XML Spy v4.0.1 U (http://www.xmlspy.com) by Luftgeist (Vienna University of Technology) -->
<!--This OpenTracker file describes the configuration for the mobile setup using a pen and tablet interface.
It supports the following hardware :
1) Intersense InterTrax2 to track head orientation
2) Firewire Webcam via ARToolkit to track markers on PIP and pen.
3) Wacom Graphire tablet for 2D pen input and buttons
4) Parallel port button-->
<!DOCTYPE OpenTracker SYSTEM "../../../workspace/opentracker.dtd">
<OpenTracker>
	<configuration>
		<ARToolKitConfig camera-parameter="config/firefly_4mm.dat" videomode="WDM_CAP,videoWidth=640,videoHeight=480" framerate="30" treshhold="130"/>
		<ConsoleConfig headerline="Mobile User" interval="100" display="off"/>
		<InterSenseConfig>
			<ISTracker id="0" comport="1"/>
		</InterSenseConfig>
		<StbInputConfig/>
	</configuration>
	<ConsoleSink comment="InterTrax">
		<EventVirtualOrientationTransform rotationtype="matrix" rotation="0 -1 0 -1 0 0 0 0 -1" DEF="orientation">
			<EventOrientationTransform rotation="0 -1 0 -1 0 0 0 0 -1" rotationtype="matrix">
				<InterSenseSource id="0"/>
			</EventOrientationTransform>
		</EventVirtualOrientationTransform>
	</ConsoleSink>
	<ConsoleSink comment="Pad">
		<StbSink station="0" DEF="Pad">
			<EventDynamicTransform baseevent="false">
				<TransformBase>
					<Ref USE="orientation"/>
				</TransformBase>
				<Selection timeout="4000">
					<Select>
						<ThresholdFilter rotationmax="1" rotationmin="0.1" DEF="PadReference">
							<Filter weight="0.333333 0.333333 0.333333">
								<EventQueue length="3">
								    <EventVirtualTransform translation="0 -0.01 0">
										<EventVirtualTransform rotation="0 1 0 0">
											<EventTransform rotation="0 1 0 0">
												<EventTransform rotation="1 0 0 0" scale="0.001 0.001 0.001" DEF="lambda">
													<ARToolKitSource tag-file="patterns/lambda.patt" center="0 0" size="80 80"/>
												</EventTransform>
											</EventTransform>
										</EventVirtualTransform>
									</EventVirtualTransform>
								</EventQueue>
							</Filter>
						</ThresholdFilter>
					</Select>
					<TestSource position="0 0 -10"/>
				</Selection>
			</EventDynamicTransform>
		</StbSink>
	</ConsoleSink>
	<!--<ConsoleSink comment="Viewpoint">-->
	<StbSink station="2">
		<EventDynamicTransform>
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<!-- old camera on the helmet offset             
           <EventTransform translation=" -0.004 -0.148  0" rotation="-.9096828073e-1 -.4448448893e-2 -.4868302496e-1 .9946531794">
                <TestSource frequency="10"/>
            </EventTransform>-->
			<!--<ConsoleSink comment="offset">
                <StbKeyboardSource number="1"/>
            </ConsoleSink>-->
			<!-- current camera in front of the eye offset -->
		    <TestSource position="0.025 0.08 0" frequency="10"/>
		</EventDynamicTransform>

	</StbSink>
	<!--</ConsoleSink>-->
	<ConsoleSink comment="new extra feature">
		<StbSink station="1" event="on">
			<EventDynamicTransform baseevent="true">
				<TransformBase>
					<Ref USE="Pad"/>
				</TransformBase>
				<EventTransform scale="-0.15 -0.1 0" translation="0.075 0.05 -0.007" rotation="0 0 0 1">
					<ButtonOp op="OR">
						<Arg1>
							<StbMouseSource mode="relative"/>
						</Arg1>
						<Arg2>
							<StbKeyboardSource number="0"/>
						</Arg2>
					</ButtonOp>
				</EventTransform>
			</EventDynamicTransform>
		</StbSink>
	</ConsoleSink>
	<!-- camera calibration, need to turn pad by 180 degrees -->
	<StbSink station="20" event="on">
	    <Ref USE="lambda"/>
	</StbSink>
	<!-- Aeki Cupboard pieces -->
	<StbSink station="3" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="patterns/aeki.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="4" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="patterns/tu.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="5" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="patterns/alien.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="6" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="patterns/aircraft.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="7" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventVirtualTransform rotation="0 0 1 1.571" rotationtype="axisangle">
					<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
						<ARToolKitSource tag-file="patterns/man.patt" size="100 100" center="0 0"/>
					</EventTransform>
				</EventVirtualTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="8" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventVirtualTransform rotation="0 0 1 1.571" rotationtype="axisangle">
					<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
						<ARToolKitSource tag-file="patterns/spider.patt" size="100 100" center="0 0"/>
					</EventTransform>
				</EventVirtualTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<StbSink station="9" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="patterns/heart.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<!-- model tracker -->
	<StbSink station="10" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="patterns/y.patt" size="160 160" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
	<!-- nothing -->
	<StbSink station="11" event="on">
		<EventDynamicTransform baseevent="false">
			<TransformBase>
				<Ref USE="orientation"/>
			</TransformBase>
			<EventTransform rotation="0 1 0 0 ">
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource tag-file="patterns/shears.patt" size="100 100" center="0 0"/>
				</EventTransform>
			</EventTransform>
		</EventDynamicTransform>
	</StbSink>
</OpenTracker>
