<?xml version="1.0" encoding="UTF-8"?>
<!--simple test configuration for the new tracker serve system-->
<!DOCTYPE OpenTracker SYSTEM "../../../workspace/opentracker.dtd">
<OpenTracker>
	<configuration>
		<ARToolKitConfig camera-parameter="../apps/fingerfarben/data/pyrofirewire.dat" videomode="0 640 480 vertical" framerate="20" treshhold="100"/>
		<ConsoleConfig headerline="Receiver Test" interval="1"/>
		<TimeConfig display="true"/>
	</configuration>
	<!-- Camera tracking -->
	<StbSink station="2">
		<EventVirtualTransform DEF="calibOffsetCam">
			<TestSource frequency="1" position="0 0 0"/>
		</EventVirtualTransform>
	</StbSink>
	<!-- Gloves tracking -->
	<StbSink station="0" event="on">
		<!--<ConsoleSink comment="glove_r">-->
		<EventVirtualTransform translation="0 0 0" DEF="calibOffsetR">
			<Merge>
				<MergeDefault>
					<EventVirtualPositionTransform translation="-0.040 0.080 -0.100">
						<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
							<ARToolKitSource center="0 0" size="50 50" tag-file="../apps/fingerfarben/data/p.patt"/>
						</EventTransform>
					</EventVirtualPositionTransform>
					<EventVirtualPositionTransform translation="-0.040 0.080 -0.100">
						<EventVirtualPositionTransform translation="0.052 0.0 0.034">
							<EventVirtualOrientationTransform rotation="0.0 1.5707963268 0.0" rotationtype="euler">
								<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
									<ARToolKitSource center="0 0" size="50 50" tag-file="../apps/fingerfarben/data/h.patt"/>
								</EventTransform>
							</EventVirtualOrientationTransform>
						</EventVirtualPositionTransform>
					</EventVirtualPositionTransform>
				</MergeDefault>
				<MergeButton>
					<ButtonFilter buttonmask="11110000" buttonmap="01234567">
						<ParButtonSource dev="0x378" DEF="buttons"/>
					</ButtonFilter>
				</MergeButton>
			</Merge>
		</EventVirtualTransform>
		<!--</ConsoleSink>-->
	</StbSink>
	<StbSink station="3" event="on">
		<!--<ConsoleSink comment="glove_l">-->
		<EventVirtualTransform translation="0 0 0" DEF="calibOffsetL">
			<Merge>
				<MergeDefault>
					<EventVirtualPositionTransform translation="0.040 0.080 -0.100">
						<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
							<ARToolKitSource center="0 0" size="50 50" tag-file="../apps/fingerfarben/data/t.patt"/>
						</EventTransform>
					</EventVirtualPositionTransform>
					<EventVirtualPositionTransform translation="0.040 0.080 -0.100">
						<EventVirtualPositionTransform translation="-0.052 0.0 0.034">
							<EventVirtualOrientationTransform rotation="0.0 -1.5707963268 0.0" rotationtype="euler">
								<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
									<ARToolKitSource center="0 0" size="50 50" tag-file="../apps/fingerfarben/data/n.patt"/>
								</EventTransform>
							</EventVirtualOrientationTransform>
						</EventVirtualPositionTransform>
					</EventVirtualPositionTransform>
				</MergeDefault>
				<MergeButton>
					<ButtonFilter buttonmask="00001111" buttonmap="45670123">
						<Ref USE="buttons"/>
					</ButtonFilter>
				</MergeButton>
			</Merge>
		</EventVirtualTransform>
		<!--</ConsoleSink>-->
	</StbSink>
	<StbSink station="1">
		<TestSource frequency="10" position="0 0 10"/>
<!--		<Merge>
			<MergeDefault>
				<TestSource frequency="10" position="0 0 10"/>
				<EventVirtualPositionTransform translation="0.055 -0.06 -0.05">
					<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
						<ARToolKitSource center="0 0" size="50 50" tag-file="../apps/fingerfarben/data/l.patt"/>
					</EventTransform>
				</EventVirtualPositionTransform>
-->
<!--				<EventVirtualPositionTransform translation="-0.055 -0.06 -0.05">
					<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
						<ARToolKitSource center="0 0" size="50 50" tag-file="../apps/fingerfarben/data/a.patt"/>
					</EventTransform>
				</EventVirtualPositionTransform>
			</MergeDefault>
		</Merge>
-->
	</StbSink>
	
<!-- model -->
	
	<StbSink station="4" event="on">
		<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
			<ARToolKitSource center="0 0" size="90 90" tag-file="../apps/fingerfarben/data/x.patt"/>
		</EventTransform>
	</StbSink>
	
<!-- clipping plane -->
	
	<StbSink station="5" event="on">
		<Selection timeout="300">
			<Select>
				<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
					<ARToolKitSource center="0 0" size="90 90" tag-file="../apps/fingerfarben/data/a.patt"/>
				</EventTransform>
			</Select>
			<TestSource frequency="10" position="0 0 10"/>
		</Selection>
	</StbSink>
	
<!-- calibration -->
	
	<StbSink station="6" event="on">
		<EventTransform scale="0.001 0.001 0.001" rotation="1 0 0 0" translation="0 0 0">
			<ARToolKitSource center="0 0" size="50 50" tag-file="../apps/fingerfarben/data/l.patt"/>
		</EventTransform>
	</StbSink>
	
	
</OpenTracker>
