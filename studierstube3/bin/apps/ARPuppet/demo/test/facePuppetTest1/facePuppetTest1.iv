#Inventor V2.1 ascii

DEF FACEPUPPETEERTEST1 SoApplicationKit {

    info Info {}

    appGeom Separator {
    }

    contextKit SoContextKit {

        clonePipSheet  FALSE

        templatePipSheet Separator {

            Separator {
                RotationXYZ {axis  X angle 1.57 }
                Material { diffuseColor 0 1 0 }
                SoBaseColor { rgb 1 0 0 }
                DEF BUTTON_TRACKED SoToggleButton { 
                    width 5 depth 5 height 2 on FALSE
                }
                Translation { translation 5 0 0 }
                Material { diffuseColor 1 0 0 }
                DEF BUTTON_CMD SoToggleButton { 
                    width 5 depth 5 height 2 
                }
                Translation { translation 5 0 0 }
                Material { diffuseColor 1 0 1 }
                DEF BUTTON_SHOWPUPPETEER SoToggleButton { 
                    width 5 depth 5 height 2 on TRUE
                }
                Translation { translation 5 0 0 }
                Material { diffuseColor 0 1 1 }
                DEF BUTTON_SHOWATTRIBUTE SoToggleButton { 
                    width 5 depth 5 height 2 on TRUE
                }
            }

        } # end of templatePipSheet

        windowGroup Group {

            SoClassLoader {
                className   "SoChoreographerKit"
                fileName    "../apps/arpuppet/characters/arpuppet"
            }                   
            SoClassLoader {
                className   "SoFacePuppeteer"
                fileName    "../apps/arpuppet/characters/facepuppet/facepuppet"
            }

            SoWindowKit {
                state MAXIMIZED
                clientVolume Separator {

                    DEF CHOREOGRAPHER SoChoreographerKit {
                        id "choreographer"
                        command [ "face: lookAt 0.4 0.1 0.1 1000" , "face: speak `This is a test! Is it OK? Hello!`",  "face: play `anger` 100 150" ]
                        dataNeedsValidation TRUE
                        dataValid = USE BUTTON_CMD.on
                        puppeteers Separator {
                            DEF PUPPETEER1 SoFacePuppeteer{
                                id "face"
                                controlMode [ (STATION) , (STATION) ]
                                station 3
                                showPuppeteer = USE BUTTON_SHOWPUPPETEER.on
                                showAttributes = USE BUTTON_SHOWATTRIBUTE.on
                                whichPuppets [ 0 ]
                                whichAttributes [ 0 ]
                                highlightDragOn TRUE
                                #draggable TRUE 
                                puppets SoDragKit {
                                    content Separator {
                                        SoMultiSwitch {
                                            DEF FACEPUPPET SoFacePuppet{
                                                character "mike" # "sam"
                                            }
                                        } # end of puppet
                                    }
                                }
                                attributes SoMultiSwitch {
                                    SoSeparator {
                                        SoSeparator {
                                            SoTransform { translation -0.2 0.2 0 scaleFactor 0.003 0.003 0.003 }
                                            SoText3 { 
                                                parts ALL
                                                string = USE PUPPETEER1.speechText
                                            }
                                        }
                                        SoSeparator {
                                            SoTransform { translation -0.2 0.25 0 scaleFactor 0.003 0.003 0.003 }
                                            SoText3 { 
                                                parts ALL
                                                string = USE FACEPUPPET.character
                                            }
                                        }
                                    }
                                } # end of attributes
        
                            } # end of SoFacePuppeteer
                            
                        } # end of puppeteers Separator
                    }
                    
                    Separator {
                        SoTransform { translation 0.4 0.1 0.1 }
                        Sphere { radius 0.02 }                      
                    }

                } # end of clientVolume

            } # end of windowKit

        } # end of windowGroup

    } # end of contextKit

} # end of applicationKit
