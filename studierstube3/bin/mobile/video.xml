<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE OpenTracker SYSTEM "opentracker.dtd">
<?xml-stylesheet type="text/xsl" href="C:\Projects\opentracker\data\ot2dot.xsl"?>
<OpenTracker>
    <configuration>
        <ARToolKitConfig camera-parameter="data/pyrofirewire.dat" videomode="0 4 3 0" framerate="10" treshhold="80"/>
        <ConsoleConfig headerline="Mobile User" interval="200"/>
        <InterSenseConfig>
            <ISTracker id="0"/>
        </InterSenseConfig>
        <StbKeyboardConfig/>
    </configuration>
    <ConsoleSink comment="InterTrax">
        <EventVirtualOrientationTransform rotationtype="matrix" rotation="0 0 1 -1 0 0 0 -1 0" DEF="orientation">
            <EventOrientationTransform rotation="0 -1 0 0 0 -1 1 0 0" rotationtype="matrix">
                <InterSenseSource id="0"/>
            </EventOrientationTransform>
        </EventVirtualOrientationTransform>
    </ConsoleSink>
    <ConsoleSink>
        <StbSink station="0">
            <EventDynamicTransform>
                <TransformBase>
                    <Ref USE="orientation"/>
                </TransformBase>
                <Selection timeout="500">
                    <Select>
                        <EventVirtualTransform translation="-0.044 -0.163 0" DEF="PadReference">
                            <EventTransform rotation="0 0 1 3.1415926" rotationtype="axisangle" scale="0.001 0.001 0.001">
                                <EventVirtualTransform rotation="+0.7071068 +0.7071068 0 0" translation="">
                                    <ConfidenceFilter treshhold="0.8">
                                        <ConfidenceSelect timeout="100">
                                            <!-- the small additional greek lettered pad tags -->
                                            <EventVirtualTransform rotation="0 0 0.70710678 0.70710678" translation="-120.6228860 86.26318450 -12.97660861">
                                                <ARToolKitSource tag-file="data/lambda.tag" center="0 0" size="40"/>
                                            </EventVirtualTransform>
                                            <EventVirtualTransform rotation="0 0 1 0" translation="-242.4604450 -43.88639500 -52.62943030">
                                                <ARToolKitSource tag-file="data/pi.tag" center="0 0" size="40"/>
                                            </EventVirtualTransform>
                                            <EventVirtualTransform rotation="0 0 0.70710678 0.70710678" translation="29.14854159  91.87370265  -17.21264916">
                                                <ARToolKitSource tag-file="data/kappa.tag" center="0 0" size="40"/>
                                            </EventVirtualTransform>
                                            <!-- end of the additional pad tags -->
                                            <ARToolKitSource tag-file="data/ptag.tag" center="0 0" size="90"/>
                                        </ConfidenceSelect>
                                    </ConfidenceFilter>
                                </EventVirtualTransform>
                            </EventTransform>
                        </EventVirtualTransform>
                    </Select>
                    <EventTransform translation="0 0 -10">
                        <TestSource/>
                    </EventTransform>
                </Selection>
            </EventDynamicTransform>
        </StbSink>
    </ConsoleSink>
    <ConsoleSink comment="Pen">
        <StbSink station="1">
            <EventDynamicTransform>
                <TransformBase>
                    <Ref USE="orientation"/>
                </TransformBase>
                <Merge>
                    <MergeDefault>
                        <EventTransform DEF="PenOptical">
                            <EventTransform scale="0.001 0.001 0.001" translation="0 0 0" rotation="0 0 1 3.141592" rotationtype="axisangle">
                                <EventTransform>
                                    <EventVirtualTransform rotation="0.5 0.5 0.5 0.5" translation=" 0 0 -160">
                                        <Merge>
                                            <MergeDefault>
                                                <EventVirtualTransform rotation=" .5029917380  .5014279870  -.5012367275  .4942985235" translation="-.2220118280 -32.48160126 -30.22296535">
                                                    <ConfidenceFilter treshhold="0.8">
                                                        <ARToolKitSource tag-file="data/pen1.tag" center="0 0" size="50"/>
                                                    </ConfidenceFilter>
                                                </EventVirtualTransform>
                                                <EventVirtualTransform rotation=".1448792950e-1 -.7084267620 .9970575100e-2 .7055651710" translation="-20.74213547 -.1527992500 -42.24638883">
                                                    <ConfidenceFilter treshhold="0.8">
                                                        <ARToolKitSource tag-file="data/pen2.tag" center="0 0" size="50"/>
                                                    </ConfidenceFilter>
                                                </EventVirtualTransform>
                                                <EventVirtualTransform rotation="  -.5174423930 -.5068315460 .4897498800 .4853042437" translation="-26.27967831 -1.187149700 -34.71511463">
                                                    <ConfidenceFilter treshhold="0.8">
                                                        <ARToolKitSource tag-file="data/pen3.tag" center="0 0" size="50"/>
                                                    </ConfidenceFilter>
                                                </EventVirtualTransform>
                                                <EventVirtualTransform rotation=" .5002492600  -.5056980505  -.4930002224 .5009699995" translation="-28.95919523 .7681099400 -35.91970237">
                                                    <ConfidenceFilter treshhold="0.8">
                                                        <ARToolKitSource tag-file="data/pen4.tag" center="0 0" size="50"/>
                                                    </ConfidenceFilter>
                                                </EventVirtualTransform>
                                                <ConfidenceFilter treshhold="0.8">
                                                    <ARToolKitSource tag-file="data/pen5.tag" center="0 0" size="50"/>
                                                </ConfidenceFilter>
                                            </MergeDefault>
                                        </Merge>
                                    </EventVirtualTransform>
                                </EventTransform>
                            </EventTransform>
                        </EventTransform>
                    </MergeDefault>
                    <MergePosition>
                        <Selection>
                            <Select>
                                <EventDynamicTransform DEF="PenWacom" baseevent="false">
                                    <EventTransform scale="1 1 0" translation="0.064 0.047 -0.01" rotation="0 0 1 0">
                                        <!--<TestSource frequency="10000" offset="10000"/>-->
                                        <WacomGraphireSource device="1"/>
                                    </EventTransform>
                                    <TransformBase>
                                        <Ref USE="PadReference"/>
                                    </TransformBase>
                                </EventDynamicTransform>
                            </Select>
                            <Ref USE="PenOptical"/>
                        </Selection>
                    </MergePosition>
                    <MergeButton>
                        <Ref USE="PenWacom"/>
                        <StbKeyboardSource number="0"/>
                        <ParButtonSource dev="0x378"/>
                    </MergeButton>
                </Merge>
            </EventDynamicTransform>
        </StbSink>
    </ConsoleSink>
    <!--<ConsoleSink comment="Viewpoint">-->
    <StbSink station="2">
        <EventDynamicTransform>
            <TransformBase>
                <Ref USE="orientation"/>
            </TransformBase>
            <EventTransform translation="-0.0021   -0.004   0">
                <TestSource frequency="10"/>
            </EventTransform>
            <!--<ConsoleSink comment="offset">
                <StbKeyboardSource number="1"/>
            </ConsoleSink>-->
        </EventDynamicTransform>
    </StbSink>
    <!--</ConsoleSink>-->
</OpenTracker>
